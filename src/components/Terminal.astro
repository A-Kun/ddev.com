---
/**
 * This is a visual wrapper that puts simple terminal GUI around a code block
 * to help convey that itâ€™s depicting a terminal session and not code.
 */

// TODO: for PowerShell variant, use icon to indicate Windows PowerShell vs. Command Prompt vs. Ubuntu

import {
  XMarkIcon,
  MinusIcon,
  StopIcon,
} from "@heroicons/react/24/outline/index.js"

export interface Props {
  type?:
    | "default"
    | "powershell"
    | "powershell-ubuntu"
    | "admin-powershell"
    | "windows-terminal"
    | "ubuntu"
}

const { type = "default" } = Astro.props
---

<style is:global lang="postcss">
  .terminal-wrapper {
    @apply rounded-lg;
    background: #2e3440;
  }

  .terminal-wrapper .top-bar {
    &.powershell {
      @apply justify-between text-white;
      background: #1F2023;
    }
    &.powershell-ubuntu {
      @apply justify-between text-white;
      background: #1F2023;
    }
  }

  .prose .terminal-wrapper pre {
    @apply my-0;
  }
</style>

<div class="terminal-wrapper">
  <div class={`top-bar flex p-3 space-x-2 rounded-t-lg ${type}`}>
    {type == "default" && (
      <div class="block rounded-full bg-slate-500 w-3 h-3"></div>
      <div class="block rounded-full bg-slate-500 w-3 h-3"></div>
      <div class="block rounded-full bg-slate-500 w-3 h-3"></div>
    )}
    {type == "powershell" && (
      <img src="/logos/powershell.svg" alt="" class="block w-3 h-3 m-0 self-start" />
      <div class="flex space-x-2">
        <div class="block w-3 h-3 items-end"><MinusIcon /></div>
        <div class="block w-3 h-3 items-end"><StopIcon /></div>
        <div class="block w-3 h-3 items-end"><XMarkIcon /></div>
      </div>
    )}
    {type == "powershell-ubuntu" && (
      <img src="/logos/tux.svg" alt="" class="block w-3 h-3 m-0 self-start" />
      <div class="flex space-x-2">
        <div class="block w-3 h-3 items-end"><MinusIcon /></div>
        <div class="block w-3 h-3 items-end"><StopIcon /></div>
        <div class="block w-3 h-3 items-end"><XMarkIcon /></div>
      </div>
    )}
  </div>
  <div class="overflow-hidden my-0">
    <slot />
  </div>
</div>
